---
layout: post
title:  "2015 腾讯实习生 后台研发 一面/二面"
date:   2015-04-28 12:00:00
tags:	tech
myTag:	interview

---

# 2015 腾讯实习生 后台研发 面试

--------------------------------

### 一面

**面试城市: 香港**  
**时间: 1hour**

面试官让我介绍完自己之后，就直接在纸上写代码了。

--------------------------------

1\. 编写函数memmove.

memcopy是不安全的，原因是有可能地址重叠(dest指针有可能指向src串的中间，也有可能是src在dest中间)。memmove就是解决这个问题的函数。

	src
	|
	V
	"abcdefghijk\0"
		   "............"
			A
			|
			dest

[参考答案](http://edlinlink.github.io/2015_Baidu_Software_Develop_Engineer.html)

-----------------------------------

2\. 给定一个字符串，找出其中最长不重复字母子串。例如"abca"，返回"3"。

	思路: 用一个数组记录每个字符出现次数。a、b两个指针指向字符串头，数组记录b指针指向的字符有没有出现过，如果没有，b向前移动，记录a、b位置之差是否比结果ans大，是则取代；如果有出现过，数组减去a指针指向的字符，a向前移动，直到b当前指针指向的字符在数组中的次数为1。返回结果ans。

参考代码:
	
	int Count[200];

	int longestSubStr(string str){
		memset(Count, 0, sizeof(Count));
		int ans = 0;
		int a = 0;
		for(int b=0; b<str.size(); b++){
			int key = str[b];
			Count[key]++;
			if(Count[key] <= 1){
				if(b-a+1 > ans)
					ans = b-a+1;
			}
			else{
				while(Count[key]>1){
					Count[str[a]]--;
					a++;
				}
			}
		}
		return ans;
		
	};

---------------------------------------------------

3\. 写一个函数，判断一个链表是不是有环。

---------------------------------------------------

4\. 写一个函数，找一个数组中第二大的数。(Microsoft曾经出过)

参考答案:

	const int MINNUMBER = -32767

	int find_sec_max(int data[], int count){
		int maxnumber = data[0];
		int sec_max = MINNUMBER;

		for(int i=0; i<count; i++){
			if(data[i] > maxnumber){
				sec_max = maxnumber;
				maxnumber = data[i];
			}
			else{
				if(data[i] > sec_max){
					sec_max = data[i];
				}
			}
		}
		return sec_max;
	}


---------------------------------------------------

5\. [开放题] 现在需要设计一个KV系统，key是QQ号(最多有21位)，value是一个string。Read:1000次/s，Write:100次/s。如何设计。

思路: Hash加链表。针对读写做Cache，但是Cache可能命中率不高，因为可能每个用户都会读写，但读写次数不多。此外应该用分布式多台机器做，按照ip进行划分，以提高Cache命中率。

---------------------------------------------------

### 二面

**面试方式: 电话面试**  
**时间: 30min**

----------------------------------------------------

1\. 给定一个能随机生成[1-5]的函数，如何随机生成[1-7]. [参考答案](http://stackoverflow.com/questions/137783/expand-a-random-range-from-1-5-to-1-7)

---------------------------------------------------

2\. 给定一个排序的数组和一个数，如何查找数组中哪两个数的和等于给定的数。例如数组{1,2,3,4,5,6}，给定的数为"6"，返回结果{1,5}、{2,4}。

---------------------------------------------------

3\. 如何翻转一段给定的句子，例如给定"Hello World"，返回"World Hello"。(要求空间复杂度O(1))。

	思路: 将这个句子翻转:"Hello World"->"dlroW olleH"，再根据每个单词翻转:"dlroW olleH"->"World Hello".

---------------------------------------------------

4\. 你们班同学有n个人(1 < n < 365)，请问至少有两个人同一天生日的概率是多少。

	思路: 1 - (1/365)*(1/364)*(1/363)*...*(1/(366-n))

---------------------------------------------------

5\. 给定一个排序的数组(无重复数)，将数组的数进行循环移动，例如{1,2,3,4,5}->{4,5,1,2,3}。现在给定一个数，求这个数在数组的下标。

	思路: 先二分查找找数组的拐点，然后按照拐点把数组分成两半，再进行二分查找给定数。

	


