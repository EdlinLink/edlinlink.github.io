---
layout: post
title:  "MD5 Introduction"
date:   2013-10-24 12:00:00
tags:	tech
myTag:	md5 security

---

# MD5 Introduction

## MD5 简介

MD5的全称是Message-Digest Algorithm 5, 在90年代由MIT计算机科学实验室和RSA Data Security Inc经过前几代的MD2、MD3和MD4发展而来。MD5通过对任意长度的字符串进行Hash变换，从而得到一个128bits的不可逆的MD5哈希值。

## MD5 的应用

MD5已经被广泛应用在我们的生活中。例如，如何判断一个BT下载的文件是完全下载好了呢？没错，我们可以通过计算MD5来检验下载到的文件的完整性。

在Unix下很多软件在下载的时候都会有一个文件名相同，文件扩展名为.md的文件，这个文件通常只有一行文本，而这一行文本就是该文件的数字签名。MD5将整个文件当作一个大文本信息，通过不可逆的字符串变换算法，产生一个MD5信息摘要。从而防止文件在网络传播过程中被篡改。

## MD5 的弱点

虽然MD5算法是不可逆的，但是这并不代表MD5算法就是绝对安全的。

2004年，山东大学数学系教授王小云在当年的国际密码学年会(Cropto' 2004)证明了MD5算法可能被快速生成“碰撞”(即不同的输入生成相同的MD5值)。2007年荷兰Eindhoven University of Technology科学家成功将两个可执行文件进行了MD5碰撞，使得这两个运算结果不同的程序会被计算出同一个MD5值。

MD5的“碰撞”意味着什么呢？意味着当我们在网上面使用电子签名签署合同的时候，可能会出现一份不是由你签署的文件，但是上面却有你的签名，这份合同的真伪性就无从分辨了。

再者，有一些系统的口令验证是这样子设计的：系统保留的是用户密码经过MD5加密后的消息摘要而不是密码本身，在验证用户的时候，只需要将用户输入的密码再经过一次MD5处理，对比两次获得的消息摘要是否相同就能够验证密码的合法性。这样的做法就算服务器保存密码的文件被盗了，那么黑客也不可能设计出一个密码来通过验证。但从现在来说，这是有可能的，因为MD5具有快速生成碰撞的可能，黑客在盗取密码文件后可能就可以设计出一个碰撞密码来通过验证(虽然在现阶段来说还比较难实现)。

不过现在网上面已经有人通过网络和分布式的方式，尝试建立一个MD5解码的数据库，将大量的值和对应的MD5数据记录起来，那么简单的6位密码对应的MD5值可能就会在瞬间被破解。网上有研究表示破解一个8位纯数字的密码最多不超过10min。即使是10位数下数字+字母+特殊字符，也只需要一天左右就可以破解出来。

因此我们在设置密码的时候可以选择增加密码长度，这样可以进一步提高密码的安全性。除此之外，还有人提出许多不同的MD5变换算法。例如，对密码进行循环加密，要求用户除了输入密码pwd，还需要输入一个服务码code，对pwd进行code次MD5加密；密文分割再加密；加入干涉字符串再加密或者进行大小写变换干涉。通过这些种种方法加大黑客破译MD5的难度。

虽然MD5的安全性受到了挑战，但是现阶段对于一些安全要求不太高的应用MD5还是完全能满足要求的。而且因为MD5历史悠久，又不需要支付任何版权费用，MD5在一段时期内还能依靠与其它算法交叉加密，达到很好的加密效果。当然计算机科学的世界是变化很快的，说不定MD5更快的破解方法就会被发现，不过究竟是快还是慢，还得等密码学专家们继续研究。


## Mac下校验MD5

在Mac下我们可以打开终端输入"md5 "，然后再输入文件的完整路径，或者不输入完整路径而是把文件拖进终端。回车即可看到该文件的MD5值。如果文件比较大，需要的时间就会比较久。






-----------------------------------------------------------------------

文章的最后是一些字符对应的MD5值，可作为实现MD5算法时候的标准答案：

MD5 ("") = d41d8cd98f00b204e9800998ecf8427e   
MD5 ("a") = 0cc175b9c0f1b6a831c399e269772661  
MD5 ("abc") = 900150983cd24fb0d6963f7d28e17f72   
MD5 ("message digest") = f96b697d7cb7938d525a2f31aaf161d0   
MD5 ("abcdefghijklmnopqrstuvwxyz") = c3fcd3d76192e4007dfb496cca67e13b   
MD5 ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz") = d174ab98d277d9f5a5611c2c9f419d9f  



## 参考资料

1. [维基百科](http://zh.wikipedia.org/wiki/MD5)
2. [浅谈MD5和SHA-1被破解和应用改进策略](http://security.ctocio.com.cn/tips/486/8077986_2.shtml)
3. [MacIdea](http://mac.pcbeta.com/thread-58620-1-1.html)
4. [Aj's Blog - MD5科普](http://www.6zou.net/tech/what_is_md5.html)
5. [红黑联盟 - MD5加密,仍然是密码的保护伞吗](http://www.2cto.com/News/200706/17850.html)
6. [廖思周. MD5算法防穷举(冲撞)破译的设计及其实现. 五邑大学学报, Vol.20 No.4 Jan. 2007](http://mall.cnki.net/magazine/article/WYDW200604006.htm)
